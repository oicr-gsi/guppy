{
  "defaults": {
    "description": "guppy workflow test",
    "metrics_calculate": "calculate.sh",
    "metrics_compare": "compare.sh",
    "output_metrics_dir": "/.mounts/labs/gsi/testdata/guppy/output_metrics",
    "parameters": {
      "wdl_options": {
        "write_to_cache": false,
        "read_from_cache": false
      }
    }
  },
  "tests": [
    {
      "id": "guppyTest",
      "description": "run guppy without demultiplexing",
      "parameters": {
        "wdl_inputs": {
          "guppy.inputPath": "/.mounts/labs/gsi/testdata/guppy/input_data/20171016_1345_PGD18/fast5",
          "guppy.kit": "SQK-CAS109",
          "guppy.flowcell" : "FLO-MIN106",
          "guppy.samples" : [
           {
             "barcode": "barcode1",
             "name": "sample1",
             "outputFileNamePrefix": "sample1_run1"
           }
          ]          
        },
        "wdl_outputs": {
          "guppy.outputGroups": [
            {
              "annotations": {},
              "key": {
                "name": "sample1"
              }
            }
          ],
          "guppy.seqSummary": {},
          "guppy.barcodeSummary": {}
        } 
      }
    },
    {
      "id": "guppyDemultiplexingTest",
      "description": "run guppy with demultiplexing",
      "parameters": {
        "wdl_inputs": {
          "guppy.inputPath": "/.mounts/labs/gsi/testdata/guppy/input_data/20190620_1748_GA30000_FAK73147_5c566c2e/fast5",
          "guppy.kit": "SQK-CAS109",
          "guppy.flowcell" : "FLO-MIN106",
          "guppy.barcodeKits": "EXP-NBD104",
          "guppy.samples" : [
            {
              "barcode": "barcode01",
              "name": "sample1",
              "outputFileNamePrefix": "sample1_run1"
            }, 
            {
              "barcode": "barcode02",
              "name": "sample2",
              "outputFileNamePrefix": "sample2_run1"
            },
            {
              "barcode": "barcode03",
              "name": "sample3",
              "outputFileNamePrefix": "sample3_run1"
            }, 
            {
              "barcode": "barcode04",
              "name": "sample4",
              "outputFileNamePrefix": "sample4_run1"
            },
            {
              "barcode": "barcode05",
              "name": "sample5",
              "outputFileNamePrefix": "sample5_run1"
            }, 
            {
             "barcode": "barcode06",
             "name": "sample6",
             "outputFileNamePrefix": "sample6_run1"
            }
          ]
        },
       "wdl_outputs": {
          "guppy.outputGroups": [
            {
              "annotations": {},
              "key": {
                "name": "sample1"
              }
            },
            {
              "annotations": {},
              "key": {
                "name": "sample2"
              }
            },
            {
              "annotations": {},
              "key": {
                "name": "sample3"
              }
            },
            {
              "annotations": {},
              "key": {
                "name": "sample4"
              }
            },
            {
              "annotations": {},
              "key": {
                "name": "sample5"
              }
            },
            {
              "annotations": {},
              "key": {
                "name": "sample6"
              }
            }                                                            
          ],
          "guppy.seqSummary": {},
          "guppy.barcodeSummary": {}
        }         
      }
    }    
  ]
}
